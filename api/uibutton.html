<!DOCTYPE html>
<html>
  <head>
    <title>UIButton | rubymotion documentation project</title>

    <link href='http://fonts.googleapis.com/css?family=Wire+One' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/zenburn.css">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
  </head>

  <body>
    <div class="header">


      <p id="title">rubymotion documentation project</p>

  <div id="subtitle">
    <span class="title">UIButton</span><br />by <span class="author">
<a href="http://colinta.com/" target="_blank"><figure class="gravatar">
      <img src="http://www.gravatar.com/avatar/0b64b1fd4310148fdb121698cbf58960.jpg" />
    </figure>Colin Thomas-Arnold
</a>
</span></div>

    </div>

    <div class="content">

<div class="breadcrumb">
<a href="/">rubymotion documentation project</a> &rsaquo;
<a href="/api/">Api</a> &rsaquo;
UIButton &rsaquo;
</div>
<h1 id="toc_5">buttonWithType</h1>

<p>You&#39;ll create your buttons using the class method <code>UIButton.buttonWithType()</code>.
Here are examples of each type, except <code>UIButtonTypeCustom</code>.</p>

<p>By-the-way, I found that &quot;30&quot; is a good height for buttons. Your mileage may
vary.</p>

<p><section class="split">
  <div class="left"></p>
<div class="codehilite"><pre><span class="p">{</span>
  <span class="no">UIButtonTypeRoundedRect</span> <span class="o">=&gt;</span>      <span class="o">[[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">30</span><span class="o">]]</span><span class="p">,</span>
  <span class="no">UIButtonTypeDetailDisclosure</span> <span class="o">=&gt;</span> <span class="o">[[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">30</span><span class="o">]]</span><span class="p">,</span>
  <span class="no">UIButtonTypeInfoLight</span> <span class="o">=&gt;</span>        <span class="o">[[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">90</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">30</span><span class="o">]]</span><span class="p">,</span>
  <span class="no">UIButtonTypeInfoDark</span> <span class="o">=&gt;</span>         <span class="o">[[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">130</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">30</span><span class="o">]]</span><span class="p">,</span>
  <span class="no">UIButtonTypeContactAdd</span> <span class="o">=&gt;</span>       <span class="o">[[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">170</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">30</span><span class="o">]]</span><span class="p">,</span>
<span class="p">}</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">type</span><span class="p">,</span> <span class="n">frame</span><span class="o">|</span>
  <span class="n">button</span> <span class="o">=</span> <span class="no">UIButton</span><span class="o">.</span><span class="n">buttonWithType</span><span class="p">(</span><span class="n">type</span><span class="p">)</span>
  <span class="n">button</span><span class="o">.</span><span class="n">setTitle</span><span class="p">(</span><span class="s1">&#39;UIButton&#39;</span><span class="p">,</span> <span class="n">forState</span><span class="ss">:UIControlStateNormal</span><span class="p">)</span>
  <span class="n">button</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">frame</span>
  <span class="n">view</span><span class="o">.</span><span class="n">addSubview</span><span class="p">(</span><span class="n">button</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>

<p></div>
  <div class="right">
    <a href="/examples/uibutton_01.png"><img class="screenshot" src="/examples/uibutton_01.png" /></a>
  </div>
</section></p>

<h1 id="toc_6">Custom button images</h1>

<p><section class="split">
  <div class="left"></p>

<p>You use this button type if you want to use your own image.  You only have to
provide one image - the &quot;normal&quot; image, and UIKit will add a darkened overlay
to it.</p>

<p>If you provide your own image for the &quot;highlighted&quot; state, though, it will use
that.  So if you want a cartoony button pushing effect, you can have it!</p>

<p>Place these in the <code>resources/</code> folder, and they will be accessible using
<code>UIImage.imageNamed(name_without_extension)</code>.  If you include two versions, one
with <code>@2x</code> before the extension, that one will be used for retina displays.</p>

<p>Here are the four images I&#39;m using:</p>

<p><img class="hoverable"
       src="/examples/uibutton_custom_up.png"
       data-down="/examples/uibutton_custom_down.png"
       />
  <img class="hoverable"
       src="/examples/uibutton_custom_up%402x.png"
       data-down="/examples/uibutton_custom_down%402x.png"
       width="70" height="70"
       /> (click me)</p>

<p></div>
</section></p>

<p><section class="split90">
  <div class="left"></p>
<div class="codehilite"><pre><span class="n">button</span> <span class="o">=</span> <span class="no">UIButton</span><span class="o">.</span><span class="n">buttonWithType</span><span class="p">(</span><span class="no">UIButtonTypeCustom</span><span class="p">)</span>
<span class="n">button</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="no">UIImage</span><span class="o">.</span><span class="n">imageNamed</span><span class="p">(</span><span class="s1">&#39;uibutton_custom_up&#39;</span><span class="p">),</span> <span class="n">forState</span><span class="ss">:UIControlStateNormal</span><span class="p">)</span>
<span class="n">button</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="no">UIImage</span><span class="o">.</span><span class="n">imageNamed</span><span class="p">(</span><span class="s1">&#39;uibutton_custom_down&#39;</span><span class="p">),</span> <span class="n">forState</span><span class="ss">:UIControlStateHighlighted</span><span class="p">)</span>
<span class="n">button</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="o">[[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">200</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">70</span><span class="o">]]</span>
<span class="n">view</span><span class="o">.</span><span class="n">addSubview</span><span class="p">(</span><span class="n">button</span><span class="p">)</span>
</pre></div>

<p></div>
  <div class="right">
<img src="/examples/uibutton_02.png" width="79" />
  </div>
</section></p>

<p>You get some freebies this way, like you can disable the button, and it will be
greyed out using your custom image.</p>

<p><section class="split90">
  <div class="left"></p>
<div class="codehilite"><pre><span class="n">button</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kp">false</span>
<span class="c1"># if you want to know whether it&#39;s enabled,</span>
<span class="c1"># use button.enabled?</span>
</pre></div>

<p></div>
  <div class="right">
<img src="/examples/uibutton_03.png" width="79" />
  </div>
</section></p>

<p>You could, if you wanted, disable the highlight and disabled buttons, if you
<em>really</em> don&#39;t want your button to have the expected behavior.  BUT, if you are
providing your own images, these values will be <em>ignored</em>, it will still</p>
<div class="codehilite"><pre><span class="n">button</span><span class="o">.</span><span class="n">adjustsImageWhenDisabled</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">button</span><span class="o">.</span><span class="n">adjustsImageWhenHighlighted</span> <span class="o">=</span> <span class="kp">false</span>
</pre></div>

<h1 id="toc_7">contentEdgeInsets - Let&#39;s see what this does!</h1>

<p>I don&#39;t know what this does, I&#39;ve never played with a <code>UIEdgeInset</code> (another
day, another Cocoa class or enum&hellip;).  Let&#39;s see!</p>

<p><section class="split90">
  <div class="left"></p>
<div class="codehilite"><pre><span class="n">button</span> <span class="o">=</span> <span class="no">UIButton</span><span class="o">.</span><span class="n">buttonWithType</span><span class="p">(</span><span class="no">UIButtonTypeCustom</span><span class="p">)</span>
<span class="n">button</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="no">UIImage</span><span class="o">.</span><span class="n">imageNamed</span><span class="p">(</span><span class="s1">&#39;uibutton_custom_up&#39;</span><span class="p">),</span> <span class="n">forState</span><span class="ss">:UIControlStateNormal</span><span class="p">)</span>
<span class="n">button</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="o">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">70</span><span class="o">]]</span>
<span class="n">button</span><span class="o">.</span><span class="n">contentEdgeInsets</span> <span class="o">=</span> <span class="o">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="o">]</span>
<span class="n">view</span><span class="o">.</span><span class="n">addSubview</span><span class="p">(</span><span class="n">button</span><span class="p">)</span>
</pre></div>

<p></div>
  <div class="right">
<img src="/examples/uibutton_04.png" width="80" />
  </div>
</section></p>

<p>Ahha, it &quot;scrunches&quot; things down... the &quot;clickable&quot; region stays the same,
though, which is kind of weird.  Well, maybe you&#39;ll need this one day
(apparently somebody did!).  There are also separate properties for the image
and label: <code>imageEdgeInsets</code> and <code>titleEdgeInsets</code></p>

<h1 id="toc_8">Messing with the look</h1>

<p>There are a bunch of ways to mess with the button without making a new image:</p>

<ul>
<li>&#39;tintColor&#39; (default: <code>nil</code>)</li>
<li>&#39;showsTouchWhenHighlighted&#39; (default: <code>false</code>)</li>
<li>&#39;reversesTitleShadowWhenHighlighted&#39; (default: <code>false</code>)</li>
</ul>

<p><section class="split100">
  <div class="left"></p>
<div class="codehilite"><pre><span class="n">button</span> <span class="o">=</span> <span class="no">UIButton</span><span class="o">.</span><span class="n">buttonWithType</span><span class="p">(</span><span class="no">UIButtonTypeRoundedRect</span><span class="p">)</span>
<span class="n">button</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="o">[[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="o">]</span><span class="p">,</span>  <span class="o">[</span><span class="mi">80</span><span class="p">,</span> <span class="mi">30</span><span class="o">]]</span>
<span class="n">button</span><span class="o">.</span><span class="n">setTitle</span><span class="p">(</span><span class="s1">&#39;Funky!&#39;</span><span class="p">,</span> <span class="n">forState</span><span class="ss">:UIControlStateNormal</span><span class="p">)</span>
<span class="n">button</span><span class="o">.</span><span class="n">tintColor</span> <span class="o">=</span> <span class="no">UIColor</span><span class="o">.</span><span class="n">purpleColor</span>
<span class="n">button</span><span class="o">.</span><span class="n">showsTouchWhenHighlighted</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">button</span><span class="o">.</span><span class="n">reversesTitleShadowWhenHighlighted</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">view</span><span class="o">.</span><span class="n">addSubview</span><span class="p">(</span><span class="n">button</span><span class="p">)</span>
</pre></div>

<p></div>
  <div class="right">
<img src="/examples/uibutton_05_up.png" width="100" />
<img src="/examples/uibutton_05_down.png" width="100" />
  </div>
</section></p>

<h1 id="toc_9">List of methods:</h1>

<p>Bread and butter:</p>
<div class="codehilite"><pre><span class="no">UIButton</span><span class="o">.</span><span class="n">buttonWithType</span><span class="p">(</span><span class="n">uibuttontype</span><span class="p">)</span>  <span class="c1"># =&gt; UIButton</span>
<span class="n">button</span><span class="o">.</span><span class="n">setTitle</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">forState</span><span class="ss">:uicontrolstate</span><span class="p">)</span>
<span class="n">button</span><span class="o">.</span><span class="n">setImage</span><span class="p">(</span><span class="n">uiimage</span><span class="p">,</span> <span class="n">forState</span><span class="ss">:uicontrolstate</span><span class="p">)</span>
</pre></div>

<p>Lots of <code>CGRect</code> methods, these might be more for subclassing <code>UIButton</code>.  Are
they affected by the <code>contentEdgeInsets</code> method?</p>
<div class="codehilite"><pre><span class="n">button</span><span class="o">.</span><span class="n">backgroundRectForBounds</span><span class="p">()</span> <span class="c1"># =&gt; CGRect</span>
<span class="n">button</span><span class="o">.</span><span class="n">backgroundRectForBounds</span><span class="p">()</span> <span class="c1"># =&gt; CGRect</span>
<span class="n">button</span><span class="o">.</span><span class="n">contentRectForBounds</span><span class="p">()</span>    <span class="c1"># =&gt; CGRect</span>
<span class="n">button</span><span class="o">.</span><span class="n">titleRectForContentRect</span><span class="p">()</span> <span class="c1"># =&gt; CGRect</span>
<span class="n">button</span><span class="o">.</span><span class="n">imageRectForContentRect</span><span class="p">()</span> <span class="c1"># =&gt; CGRect</span>
</pre></div>

<p>EdgeInsets.  We only played with <code>contentEdgeInsets</code>.</p>
<div class="codehilite"><pre><span class="n">button</span><span class="o">.</span><span class="n">contentEdgeInsets</span>                <span class="c1"># =&gt; UIEdgeInsets</span>
<span class="n">button</span><span class="o">.</span><span class="n">titleEdgeInsets</span>                  <span class="c1"># =&gt; UIEdgeInsets</span>
<span class="n">button</span><span class="o">.</span><span class="n">imageEdgeInsets</span>                  <span class="c1"># =&gt; UIEdgeInsets</span>
<span class="n">button</span><span class="o">.</span><span class="n">contentEdgeInsets</span><span class="o">=</span> <span class="o">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="o">]</span>  <span class="c1"># see also:</span>
<span class="n">button</span><span class="o">.</span><span class="n">titleEdgeInsets</span><span class="o">=</span> <span class="o">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="o">]</span>    <span class="c1">#  UIEdgeInsetsZero (default)</span>
<span class="n">button</span><span class="o">.</span><span class="n">imageEdgeInsets</span><span class="o">=</span> <span class="o">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="o">]</span>    <span class="c1">#  UIEdgeInsetsMake(a, b, c, d)</span>
</pre></div>

<p>Getting the &quot;current&quot; values (they may change, depending on the &quot;state&quot;):</p>
<div class="codehilite"><pre><span class="n">button</span><span class="o">.</span><span class="n">currentTitle</span>            <span class="c1"># =&gt; String</span>
<span class="n">button</span><span class="o">.</span><span class="n">currentTitleColor</span>       <span class="c1"># =&gt; UIColor</span>
<span class="n">button</span><span class="o">.</span><span class="n">currentTitleShadowColor</span> <span class="c1"># =&gt; UIColor</span>
<span class="n">button</span><span class="o">.</span><span class="n">currentImage</span>            <span class="c1"># =&gt; UIImage</span>
<span class="n">button</span><span class="o">.</span><span class="n">currentBackgroundImage</span>  <span class="c1"># =&gt; UIImage</span>
</pre></div>

<p>Getting the subviews:</p>
<div class="codehilite"><pre><span class="n">button</span><span class="o">.</span><span class="n">buttonType</span> <span class="c1"># =&gt; UIButtonType</span>
<span class="n">button</span><span class="o">.</span><span class="n">imageView</span>  <span class="c1"># =&gt; UIImageView</span>
<span class="n">button</span><span class="o">.</span><span class="n">titleLabel</span> <span class="c1"># =&gt; UILabel</span>
</pre></div>

<p>Setting color, shadow, background based on state:</p>
<div class="codehilite"><pre><span class="n">button</span><span class="o">.</span><span class="n">setTitleColor</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">forState</span><span class="ss">:uicontrolstate</span><span class="p">)</span>
<span class="n">button</span><span class="o">.</span><span class="n">setTitleShadowColor</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">forState</span><span class="ss">:uicontrolstate</span><span class="p">)</span>
<span class="n">button</span><span class="o">.</span><span class="n">setBackgroundImage</span><span class="p">(</span><span class="n">uiimage</span><span class="p">,</span> <span class="n">forState</span><span class="ss">:uicontrolstate</span><span class="p">)</span>
<span class="n">button</span><span class="o">.</span><span class="n">titleColorForState</span><span class="p">(</span><span class="n">uicontrolstate</span><span class="p">)</span>         <span class="c1"># =&gt; UIColor</span>
<span class="n">button</span><span class="o">.</span><span class="n">titleForState</span><span class="p">(</span><span class="n">uicontrolstate</span><span class="p">)</span>              <span class="c1"># =&gt; String</span>
<span class="n">button</span><span class="o">.</span><span class="n">titleShadowColorForState</span><span class="p">(</span><span class="n">uicontrolstate</span><span class="p">)</span>   <span class="c1"># =&gt; UIColor</span>
<span class="n">button</span><span class="o">.</span><span class="n">backgroundImageForState</span><span class="p">(</span><span class="n">uicontrolstate</span><span class="p">)</span>    <span class="c1"># =&gt; UIImage</span>
<span class="n">button</span><span class="o">.</span><span class="n">imageForState</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>                       <span class="c1"># =&gt; UIImage</span>
</pre></div>

<h1 id="toc_10">Official documentation</h1>

<p><a href="http://developer.apple.com/library/ios/#documentation/uikit/reference/UIButton_Class/UIButton/UIButton.html">UIButton class reference</a></p>
<script>

$('img.hoverable').each(function(i, btn) {
  $(btn).data('up', $(btn).attr('src'));
}).on('mousedown', function() {
  $(this).attr('src', $(this).data('down'));
}).on('mouseup', function() {
  $(this).attr('src', $(this).data('up'));
});

</script>



<section class="example">
  <p>
    Example:
    <a href="https://github.com/rubymotion/rubymotion.github.com/tree/build/examples/uibutton">
      rubymotion.github.com/tree/build/examples/uibutton
    </a>
  </p>
</section>


<div class="breadcrumb">
&lsaquo; <a href="/">rubymotion documentation project</a>
&lsaquo; <a href="/api/">Api</a>
</div>


    </div>

    <footer>
    <p><a href="https://github.com/rubymotion/rubymotion.github.com">Github</a></p>
    </footer>

  </body>
</html>